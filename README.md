# Telegram FastAPI Template

Шаблон проекта на FastAPI с аутентификацией через Telegram и асинхронной работой с базой данных

## Стек технологий

- **python 3.13.3** - интерпретатор
- **FastAPI** — backend-фреймворк
- **PostgreSQL** — база данных
- **Alembic** — миграции БД
- **SQLalchemy** - ORM
- **JWT токены** - access + refresh


## Быстрый старт

1. **Клонируйте репозиторий и перейдите в папку проекта:**
    ```bash
    git clone https://github.com/killergot/FastApi_and_TelegramAuth
    cd HomeHelper/app
    ```

2. **Создайте и настройте файл окружения:**
    - Скопируйте `.env.example` в `.env` и заполните переменные (например, параметры подключения к БД, токены Telegram и др.).

3. **Установите зависимости:**
    ```bash
    # желательно сначала создать и войти в виртуальное окружение
    # py -m venv .venv
    # .venv/Script/activate
    pip install -r requirements.txt
    ```

4. **Примените миграции Alembic:**
    ```bash
    alembic upgrade head
    ```

5. **Запустите приложение:**
    ```bash
    uvicorn main:app --reload --port=80
    ## или python3 main.py --app-dir /app
    ```

## Структура проекта

- **main.py** — точка входа в приложение.
- **.env / .env.example** — переменные окружения (пример и рабочий файл).
- **app.log** — лог-файл приложения.

### Основные папки

- **api/** — роутеры и зависимости API.
  - **admin/** — административные эндпоинты и работа с БД.
  - **depencies/** — зависимости для роутеров (например, guard, сервисы).
  - **v1/** — основные версии API (auth, users, sessions).
- **core/** — базовые настройки, обработчики ошибок, безопасность, управление ролями.
- **database/** — инициализация БД, модели, подключение к PostgreSQL.
  - **models/** — модели SQLAlchemy для auth и users.
- **repositoryes/** — слой работы с БД (репозитории для пользователей, сессий и шаблонов).
- **services/** — бизнес-логика (например, сервисы для аутентификации и пользователей).
- **shemas/** — Pydantic-схемы для валидации данных (auth, users).
- **templates/** — HTML-шаблоны (например, index.html).
- **utils/** — вспомогательные утилиты (логгер, работа с JWT, хешированием, Telegram, S3).

## Примечания

- Для запуска требуется PostgreSQL и корректно заполненный `.env`.
- Аутентификация реализована через Telegram.
- Для миграций используется Alembic.

---
Этот шаблон можно использовать как основу для собственных проектов на FastAPI с поддержкой аутентификации через Telegram.